<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UNICO - Tr√≠ch xu·∫•t ƒë∆°n h√†ng t·ª´ PDF</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üêª UNICO</h1>
            <p>Tr√≠ch xu·∫•t ƒë∆°n h√†ng t·ª´ PDF sang Excel</p>
        </div>

        <div class="config-section" id="configSection">
            <h3>üìã Y√™u c·∫ßu tr√≠ch xu·∫•t</h3>
            <textarea id="extractionRequest" placeholder="Nh·∫≠p y√™u c·∫ßu tr√≠ch xu·∫•t d·ªØ li·ªáu...&#10;V√≠ d·ª•: Tr√≠ch xu·∫•t t·∫•t c·∫£ c√°c ƒë∆°n h√†ng, b·ªè qua c√°c d√≤ng tr·ªëng, l·ªçc theo ng√†y..."></textarea>
            
            <div class="saved-configs">
                <div class="config-header">
                    <h4>üìÅ C·∫•u h√¨nh ƒë√£ l∆∞u</h4>
                    <button class="btn-icon" onclick="deleteConfig()" title="X√≥a c·∫•u h√¨nh">üóëÔ∏è</button>
                </div>
                <select id="savedConfigs" onchange="loadConfig()">
                    <option value="">-- Ch·ªçn c·∫•u h√¨nh --</option>
                </select>
                <div class="save-config">
                    <input type="text" id="configName" placeholder="T√™n c·∫•u h√¨nh...">
                    <button class="btn btn-save" onclick="saveConfig()">üíæ L∆∞u c·∫•u h√¨nh</button>
                </div>
            </div>
        </div>

        <div class="upload-section">
            <div class="upload-box" id="uploadBox">
                <div class="upload-icon">üìÑ</div>
                <h3>K√©o th·∫£ file PDF v√†o ƒë√¢y</h3>
                <p>ho·∫∑c</p>
                <input type="file" id="fileInput" accept=".pdf" hidden>
                <button class="btn btn-primary" onclick="document.getElementById('fileInput').click()">
                    Ch·ªçn file PDF
                </button>
            </div>
            <p class="selected-file" id="selectedFileText"></p>
            <button class="btn btn-extract" id="extractBtn" onclick="extractData()" disabled>
                ‚ö° Th·ª±c thi tr√≠ch xu·∫•t
            </button>
        </div>

        <div class="processing" id="processingSection" style="display: none;">
            <div class="progress-container">
                <h3>‚è≥ ƒêang x·ª≠ l√Ω...</h3>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
                <div class="progress-text">
                    <span id="progressPercent">0%</span>
                </div>
            </div>
            
            <div class="log-container">
                <h4>üìã Log x·ª≠ l√Ω:</h4>
                <div class="log-box" id="logBox">
                    <!-- Logs will be inserted here -->
                </div>
            </div>
        </div>

        <div class="preview-section" id="previewSection" style="display: none;">
            <h3>üìä Xem tr∆∞·ªõc k·∫øt qu·∫£</h3>
            <div class="table-container">
                <table id="previewTable">
                    <thead>
                        <tr id="tableHeader"></tr>
                    </thead>
                    <tbody id="tableBody"></tbody>
                </table>
            </div>
            <div class="preview-actions">
                <button class="btn btn-success" id="downloadBtn">
                    üì• T·∫£i xu·ªëng Excel
                </button>
                <button class="btn btn-secondary" onclick="location.reload()">
                    üîÑ X·ª≠ l√Ω file kh√°c
                </button>
            </div>
        </div>

        <div class="error" id="errorSection" style="display: none;">
            <div class="error-icon">‚ùå</div>
            <h3>C√≥ l·ªói x·∫£y ra</h3>
            <p id="errorMessage"></p>
            <button class="btn btn-secondary" onclick="location.reload()">
                üîÑ Th·ª≠ l·∫°i
            </button>
        </div>

        <div class="info-section">
            <h3>H∆∞·ªõng d·∫´n s·ª≠ d·ª•ng</h3>
            <ul>
                <li>Nh·∫≠p y√™u c·∫ßu tr√≠ch xu·∫•t ho·∫∑c ch·ªçn c·∫•u h√¨nh ƒë√£ l∆∞u</li>
                <li>Ch·ªçn ho·∫∑c k√©o th·∫£ file PDF ƒë∆°n h√†ng v√†o</li>
                <li>Nh·∫•n "Th·ª±c thi tr√≠ch xu·∫•t" ƒë·ªÉ b·∫Øt ƒë·∫ßu</li>
                <li>Ki·ªÉm tra d·ªØ li·ªáu trong b·∫£ng xem tr∆∞·ªõc v√† t·∫£i xu·ªëng file Excel</li>
            </ul>
        </div>

        <div class="footer">
            <p>¬© 2026 UNICO - H·ªá th·ªëng tr√≠ch xu·∫•t ƒë∆°n h√†ng</p>
        </div>
    </div>

    <script src="/static/app.js"></script>
</body>
</html>
